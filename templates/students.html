
{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-2">
  <h4>Students</h4>
  <form action="{{ url_for('upload_students') }}" method="POST" enctype="multipart/form-data" class="d-flex gap-2">
    <input type="file" name="file" class="form-control form-control-sm" accept=".csv" required>
    <button class="btn btn-secondary btn-sm" type="submit">Upload CSV</button>
  </form>
</div>

<form method="POST" class="row g-2 mb-3">
  <div class="col-md-3"><input class="form-control form-control-sm" name="name" placeholder="Name" required></div>
  <div class="col-md-2"><input class="form-control form-control-sm" name="roll_no" placeholder="Roll No" required></div>
  <div class="col-md-2"><input class="form-control form-control-sm" name="hostel" placeholder="Hostel"></div>
  <div class="col-md-2"><input class="form-control form-control-sm" name="batch" placeholder="Batch"></div>
  <div class="col-md-3"><button class="btn btn-primary btn-sm" type="submit">Add Student</button></div>
</form>

<div class="table-fixed">
<table class="table table-sm table-striped">
  <thead><tr><th>Roll No</th><th>Name</th><th>Hostel</th><th>Batch</th></tr></thead>
  <tbody>
  {% for s in rows %}
    <tr>
      <td>{{ s["roll_no"] }}</td>
      <td>{{ s["name"] }}</td>
      <td>{{ s["hostel"] }}</td>
      <td>{{ s["batch"] }}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
</div>

<p class="mt-3 text-muted">CSV headers must be: <code>name, roll_no, hostel, batch</code></p>
{% endblock %}
